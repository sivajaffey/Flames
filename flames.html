<html>
    <head>
        <title>Flames</title>
        <style>
            .strike {
                text-decoration: line-through;
            }
        </style>
    </head>
    <body>
        <div>
            <span id="f">F</span>
            <span id="l">l</span>
            <span id="a">a<span>
            <span id="m">m<span>
            <span id="e">e<span>
            <span id="s">s<span>
        </div>
        <div>
            <div>
                <div>
                    <input type="text" placeholder="Name of Boy" id="boyName"/>
                </div>
                <div>
                    <input type="text" placeholder="Name of Girl" id="girlName"/>
                </div>
                <div>
                    <button onclick="getFlameCount();">Find</button>
                </div>
                <div id="flamesTxt">

                </div>
            </div>
        </div>
    </body>
    <script>
        let Game = 'flames'
        let ckLtr = 0;
        let remainingTxt = '';
        let gNameRm = '';
        let bNameRm = '';
        let flamable = 0;
        const getFlameCount = (char, status) => {
            
            let bName = document.getElementById('boyName')?.value?.toLowerCase();
            let gName = document.getElementById('girlName')?.value?.toLowerCase();
            let curStatus = bName.localeCompare(gName);
            
                if (char !== undefined) {
                    let index = gName.indexOf(char)
                    if (index >= 0) {
                        gNameRm = gName.replace(char, "");
                        bNameRm = bName.replace(char, "");
                    }
                }
                    if (bName.length == ckLtr) {
                        flamable=gNameRm.concat(bNameRm).length;
                        console.log("Count between :",flamable)
                        flames(flamable, Game.split(''),'');
                        return false
                    }

                    if (ckLtr <= status || char == undefined) {
                        ckLtr+=1
                        getFlameCount(bName[ckLtr-1], ckLtr)
                    } else {
                        return false
                    }
        }
        const flames = (Fcount, arr, startChar) => {
            
            let getVal = Math.round(Fcount / arr.length);
            let game = arr.join('');
            if (arr.length == 1) {
                // console.log("Final",arr)
                setFlames(arr[0])
                return false;
            }

                for(let i=0; i<arr.length;i++) {
                    game += game
                }

                if (startChar !== '') {
                    let startIndx=game.indexOf(startChar);
                    game=game.slice(startIndx);
                }
                console.log('Text Aft:', game)
                let nextChar = game.charAt(Fcount);
                let rmChar = game.charAt(Fcount-1);
                if (game.length < Fcount && startChar !== '') {
                    console.log('startChar',startChar)
                    strikeLtr(startChar)
                    let rmAr = arr.filter(d=>d!=startChar);
                    flames(Fcount, rmAr, nextChar);
                    return false;
                }
                console.log('arr',arr, 'remove',rmChar)
                strikeLtr(rmChar)
                let rmAr = arr.filter(d=>d!=rmChar);
                Game = rmAr.join('');
                console.log('Removed Char', rmChar)
                console.log("Remaing", rmAr)
                console.log("Start from :",nextChar)
                if (rmAr.length == 1) {
                    // console.log("Final",rmAr)
                    setFlames(rmAr[0])
                    return false;
                }
                if (nextChar !== '' && (rmAr.length > 1)) {
                    console.log('--------------------')
                    flames(Fcount, rmAr, nextChar);
                }
            // }
        }
        const setFlames = (w) => {
            let txt='';
            if (w=='f') {
                txt = 'Friends';
            } else if (w=='l') {
                txt = 'Love';
            }else if (w=='a') {
                txt = 'Affection';
            }else if (w=='m') {
                txt = 'Marriage';
            }else if (w=='e') {
                txt = 'Enemy';
            }else if (w=='s') {
                txt = 'Sister';
            }
            document.getElementById('flamesTxt').innerHTML = txt;
            reset();
        }
        const strikeLtr = (w) => {
            document.getElementById(w).style.textDecoration = 'line-through'
        }
        const reset = () => {
            Game = 'flames'
            ckLtr = 0;
            remainingTxt = '';
            gNameRm = '';
            bNameRm = '';
            flamable = 0;
        }
    </script>
</html>